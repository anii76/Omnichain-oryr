# ORYR Frontend

Modern, responsive frontend for the Omnichain Risk-Adjusted Yield Router built with Next.js, TypeScript, and Tailwind CSS.

## Features

- ğŸŒ **Multi-Chain Support**: Seamlessly interact with vaults on Arbitrum Sepolia and Base Sepolia
- ğŸ’° **Deposit & Withdraw**: Easy-to-use interface for managing your funds
- ğŸ“Š **Real-Time Metrics**: Live risk scores powered by Pyth oracles
- ğŸ¨ **Beautiful UI**: Modern glassmorphism design with smooth animations
- ğŸ” **Wallet Integration**: Connect with RainbowKit (supports MetaMask, WalletConnect, Coinbase Wallet, etc.)
- ğŸ“± **Responsive**: Works perfectly on desktop, tablet, and mobile

## Getting Started

### 1. Install Dependencies

```bash
cd frontend
npm install
```

### 2. Configure Environment

Copy `.env.local.example` to `.env.local` and fill in your values:

```bash
cp .env.local.example .env.local
```

Required environment variables:
- `NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID`: Get from [WalletConnect Cloud](https://cloud.walletconnect.com)
- Contract addresses (update after deploying contracts)
- RPC URLs for each chain

### 3. Run Development Server

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) to view the app.

### 4. Build for Production

```bash
npm run build
npm start
```

## Project Structure

```
frontend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx          # Root layout with providers
â”‚   â”œâ”€â”€ page.tsx            # Main dashboard page
â”‚   â”œâ”€â”€ providers.tsx       # Wagmi/RainbowKit providers
â”‚   â””â”€â”€ globals.css         # Global styles
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ VaultCard.tsx       # Deposit/withdraw interface
â”‚   â”œâ”€â”€ RiskMetrics.tsx     # Risk score display
â”‚   â”œâ”€â”€ AllocationChart.tsx # Portfolio allocation chart
â”‚   â””â”€â”€ RecentActivity.tsx  # Transaction history
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ wagmi.ts           # Wagmi configuration
â”‚   â”œâ”€â”€ contracts.ts       # Contract addresses
â”‚   â”œâ”€â”€ abis.ts            # Contract ABIs
â”‚   â””â”€â”€ utils.ts           # Helper functions
â””â”€â”€ public/                # Static assets
```

## Key Technologies

- **Next.js 14**: React framework with App Router
- **Wagmi v2**: React hooks for Ethereum
- **RainbowKit**: Beautiful wallet connection UI
- **Viem**: TypeScript Ethereum library
- **Tailwind CSS**: Utility-first CSS framework
- **Recharts**: Data visualization
- **Lucide React**: Icon library

## Contract Integration

The frontend uses TypeScript contract types generated by Hardhat. After deploying contracts:

1. Update contract addresses in `.env.local`
2. The ABIs are defined in `lib/abis.ts`
3. Contract interactions use Wagmi's `useReadContract` and `useWriteContract` hooks

## Features in Detail

### Vault Card Component

- Toggle between Deposit and Withdraw modes
- Shows wallet and vault balances
- Automatic approval flow for ERC20 tokens
- Real-time transaction status

### Risk Metrics Panel

- Live risk score from Controller contract
- Price feeds from Pyth Network
- System status indicators
- Next rebalance countdown

### Allocation Chart

- Visual representation of cross-chain portfolio
- Total Value Locked (TVL) display
- Percentage breakdown by chain

### Recent Activity

- Transaction history
- Direct links to block explorers
- Activity type indicators (deposit, withdraw, rebalance)

## Customization

### Colors & Theme

Edit `tailwind.config.ts` to customize the color scheme:

```typescript
colors: {
  primary: {
    500: '#0ea5e9', // Change this
    // ...
  }
}
```

### Supported Chains

Add more chains in `lib/wagmi.ts`:

```typescript
import { optimismSepolia } from 'wagmi/chains';

chains: [arbitrumSepolia, baseSepolia, optimismSepolia]
```

### Custom Animations

Additional animations can be added in `globals.css`.

## Deployment

### Vercel (Recommended)

1. Push your code to GitHub
2. Import project in [Vercel](https://vercel.com)
3. Add environment variables
4. Deploy!

### Other Platforms

The app can be deployed to any platform that supports Next.js:
- Netlify
- AWS Amplify
- Railway
- Render

## Troubleshooting

### Wallet Not Connecting

- Make sure you have a valid `NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID`
- Check that you're on the correct network (Arbitrum Sepolia or Base Sepolia)
- Clear browser cache and try again

### Contract Calls Failing

- Verify contract addresses in `.env.local`
- Ensure contracts are deployed on the correct networks
- Check that you have test tokens for gas fees

### Build Errors

- Delete `.next` folder and rebuild
- Clear `node_modules` and reinstall dependencies
- Check Node.js version (requires v18+)

## Contributing

Feel free to open issues or submit PRs to improve the frontend!

## License

MIT

